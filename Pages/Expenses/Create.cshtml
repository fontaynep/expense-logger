@page
@if (TempData["SuccessMessage"] != null)
{
<div class="alert alert-success alert-dismissible fade show" role="alert">
    @TempData["SuccessMessage"]
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
}

@model ExpenseLogger.Pages.Expenses.CreateModel

@{
    Layout = "_Layout";
    ViewData["Title"] = "Create";
}

<h1>Add New Expense</h1>

@Html.ValidationSummary(true, "", new { @class = "text-danger" })
<div class="form-container">

    <form method="post">
        <div class="mb-3">
            <label asp-for="Expense.Description" class="form-label">Description:</label>
            <input asp-for="Expense.Description" class="form-control" />
            <span asp-validation-for="Expense.Description" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="Expense.Category" class="form-label">Category:</label>
            <input asp-for="Expense.Category" class="form-control" />
            <span asp-validation-for="Expense.Category" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="Expense.Amount" class="form-label">Amount ($):</label>
            <input asp-for="Expense.Amount" class="form-control" type="number" step="0.01" />
            <span asp-validation-for="Expense.Amount" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="Expense.Date" class="form-label">Date</label>
            <input type="date"
                   id="Expense_Date"
                   name="Expense.Date"
                   class="form-control"
                   value="@Model.Expense.Date.ToString("yyyy-MM-dd")" />
            <span asp-validation-for="Expense.Date" class="text-danger"></span>
        </div>

        <button type="submit" class="btn btn-primary">Save</button>
    </form>
</div>
@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
